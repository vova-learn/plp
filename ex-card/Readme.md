# Экстра карточка 
---
Решение расширяет встроенную карточку товара, и добавляет в неё возможность выбора параметров и количества, 
цена при этом меняется в зависимости от выбора. 

**Особенности:**
*Категория:*
- в виджете **Расширение для карточки** может быть выбрана **только одна категория**;
*Кнопки:*
- по умолчанию активными будут первые кнопки категории;
- цвет активного состояния - стиль фона кнопки "По клику";
- кнопки можно редактировать и менять содержимое;
- кнопка должна иметь действие "Ничего не делать";
*Фото:*
- установка фото доступна только в категории "Цвет";
- снятый чекбокс с "Добавить фотографию" будет использовать фото по умолчанию;
*Параметры и цена:*
- цена товара динамическая, зависит от количества и сделанного выбора;
- цена задаётся из расчета: цена товара + цена из поля "Цена";
*Действия и количество:*
- изначальное количетство должно быть задано в редакторе;
- товар можно отправить как в корзину, так и оформить покупку в один клик;
- товару можно задать количество, добавив в карточку форму с полем "Количество";


**Установка**
* Из файла *extra-card.min.js* скопируйте код и оберните его в   <script></script>;
* Скопированный код вставьте *настройки страницы* → *Метрика и скрипты* → *Произвольный плагин* → в поле *Произвольный код BODY*;  
* Импортируйте в виджет код из файла *widget.json* - виджет **Расширение для карточки**;
* Поместите **Расширение для карточки** в карточку товара *(количество копий неограничено)*;
* В **Расширение для карточки** можно поместить любую кнопку и готовую в том числе;
* В настройках **Расширение для карточки** задайте параметры;

* *Использовать поле "Количество":*
В карточку товара добавьте форму с полем *Количество*.

*ИЛИ*

* *Отправлить товар "В один клик" и полем "Количество":*
В карточку товара добавьте форму с полем *Количество*. В эту же форму добавьте кнопку,
которой задайте действие *Открыть окно без формы*, кликните по настроенной кнопке, и 
в окне добавляйте нужные поля, и кнопку с действием *Отправить заявку или перейти к следующему шагу*;

* *Отправлить товар в корзину:*
В карточку товара добавьте кнопку, в её настройках действия выберите *Выполнить JS* 
и в поле для вставки кода добавьте код из файла *to-card.min.js*. В коде можно задать два параметра:
- *isModal* если *false* - не будет показывать окно добавления в корзину, *true* - будет;
- *isReset* если *false* - выбранные кнопки не будут сбрасываться, *true* - будут;

* Опубликуйте страницу и проверьте результат;

*Дополнительно к установке:*
В файле *alert.css* стиль для окна добавления в корзину:
- Скопируйте код и оберните его в <style></style>;
- Скопированный код вставьте *настройки страницы* → *Метрика и скрипты* → *Произвольный плагин* → в поле *Произвольный код HEAD*;  


**Демонстрация [здесь](http://extra-card-demo.plp7.ru/)**

---

*По всем вопросам пишите на почту*

V.EXCART 0.2.B :white_check_mark:
V.EXCART 0.1.B